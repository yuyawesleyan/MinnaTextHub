<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>タイムライン</title>
    <style>
        /* Your CSS styles */
        .timeline-entry {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <h1>タイムライン</h1>
    <div id="timeline-container"></div>

    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore.js"></script>
    <script>
        // Initialize Firebase and load timeline data
        const firebaseConfig = {
            // Your Firebase config
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        const loadTimeline = async () => {
            const timelineContainer = document.getElementById('timeline-container');
            try {
                const snapshot = await db.collection('timeline').orderBy('timestamp', 'desc').get();
                snapshot.forEach(doc => {
                    const data = doc.data();
                    const entryDiv = document.createElement('div');
                    entryDiv.className = 'timeline-entry';
                    entryDiv.innerHTML = `
                        <p><strong>${data.username}</strong></p>
                        <p>${data.textInput}</p>
                        <p><small>${data.timestamp.toDate().toLocaleString()}</small></p>
                    `;
                    timelineContainer.appendChild(entryDiv);
                });
            } catch (error) {
                console.error("Error loading timeline: ", error);
            }
        };

        window.onload = loadTimeline;
    </script>
</body>
</html>
